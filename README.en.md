# ğŸ¬ Movies API

[ğŸ‡§ğŸ‡· Leia em PortuguÃªs](README.md)

![Status](https://img.shields.io/badge/status-In%20development-yellow)

API developed with Django Rest Framework to manage information about movies, genres, actors, and reviews. Includes JWT authentication, permission control, statistical endpoints, and a modular structure for scalability.

---

## ğŸ“¦ Models and Fields

### ğŸ­ Genre
| Field   | Type                                | Description                        |
|---------|-------------------------------------|------------------------------------|
| `id`    | AutoField                           | Automatically generated by Django  |
| `name`  | CharField (max_length=200)          | Genre name                         |

### ğŸ§‘â€ğŸ¤ Actor
| Field        | Type                                                    | Description                        |
|--------------|---------------------------------------------------------|------------------------------------|
| `id`         | AutoField                                               | Automatically generated            |
| `name`       | CharField (max_length=200)                              | Actor's name                       |
| `birthdate`  | DateField (null=True, blank=True)                       | Date of birth                      |
| `nationality`| CharField (max_length=100, null=True, blank=True, choices=NATIONALTY_CHOICES) | Nationality |

### ğŸ¬ Movie
| Field         | Type                                                   | Description                        |
|---------------|--------------------------------------------------------|------------------------------------|
| `id`          | AutoField                                              | Automatically generated            |
| `title`       | CharField (max_length=500)                             | Movie title                        |
| `genre`       | ForeignKey to Genre (on_delete=PROTECT, related_name='movies') | Movie genre            |
| `release_date`| DateField (null=True, blank=True)                      | Release date                       |
| `actors`      | ManyToManyField to Actor (related_name='movies')       | Movie actors                       |
| `resume`      | TextField (null=True, blank=True)                      | Movie summary                      |

### ğŸŒŸ Review
| Field     | Type                                                                  | Description            |
|-----------|-----------------------------------------------------------------------|------------------------|
| `id`      | AutoField                                                             | Automatically generated|
| `movie`   | ForeignKey to Movie (on_delete=PROTECT, related_name='reviews')       | Reviewed movie         |
| `stars`   | IntegerField (values from 0 to 5 with validators)                     | Star rating            |
| `comment` | TextField (null=True, blank=True)                                     | Comment                |

---

## ğŸ” JWT Authentication

The API uses JSON Web Token (JWT) authentication.

```python
REST_FRAMEWORK = {
    'DEFAULT_AUTHENTICATION_CLASSES': (
        'rest_framework_simplejwt.authentication.JWTAuthentication',
    )
}
```

JWT Endpoints:

```python

POST /api/token/ â€“ obtain token

POST /api/token/refresh/ â€“ refresh token

POST /api/token/verify/ â€“ verify token validity
```

âš™ï¸ Implemented Features

âœ… Views based on Generic Views

âœ… Serializers using ModelSerializers

âœ… Custom validations in serializers

âœ… Use of SerializerMethodField for calculated fields

âœ… Dynamic serializers for descriptive GET responses

âœ… Override of get_serializer_class in views

âœ… URL structure with versioning (/api/v1/)

âœ… Include routes in individual apps

âœ… Custom authentication app: authentication


ğŸ“Š Statistical Endpoints


 - A statistics endpoint was created without using generic views.
   

ğŸ›¡ï¸ Permissions


- Use of DRF Permission Classes in all views.

- Implementation of a custom Global Permission Class.

- Action control based on HTTP method (view, add, change, delete).

ğŸ§© URL Organization

* Each app has its own urls.py.

* The main file allows versioning:

```python
path("api/v1/", include("movies.urls"))
```

ğŸ“¥ Bulk Import with Custom Command

 - A custom command called actors_register was created to import actors from a file.

Example usage:

```bash
python manage.py actors_register --file data/actors.csv
The --file argument defines the path to the data file.
```

- The command parses and automatically registers actors in the database.

- Supports simple formats like CSV or JSON (depending on how you configure the parser).

ğŸ§ª Testing and Running

# Install dependencies

```bash
pip install -r requirements.txt
```

# Run local server

```bash
python manage.py runserver
```

ğŸš€ Technologies Used

```
Python 3.10+

Django 4.x

Django Rest Framework

Simple JWT

PostgreSQL / SQLite

Validations with Django Validators

Custom commands with management commands
```

ğŸ“« Contact

- Project developed by Felipe Rodrigues Fonseca

ğŸ“§ Email: comunidadehawks@gmail.com

ğŸ”— GitHub: FelRFDev/movies_api
